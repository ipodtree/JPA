/*C242*/SET SCHEMA PUBLIC
CONNECT USER SA
DROP TABLE CAR
DROP TABLE VAN
DROP TABLE RENT
DROP TABLE PERSON
DROP TABLE VEHICLE
/*C243*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C244*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE TABLE PERSON (PERSONID INTEGER NOT NULL, NAME VARCHAR(255), PRIMARY KEY (PERSONID))
CREATE TABLE VEHICLE (VEHICLEID INTEGER NOT NULL, DTYPE VARCHAR(31), PLATENUMBER VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE RENT (RENTID INTEGER NOT NULL, BEGIN DATE, DEADLINE DATE, PERSON_PERSONID INTEGER, VEHICLE_VEHICLEID INTEGER, PRIMARY KEY (RENTID))
CREATE TABLE CAR (VEHICLEID INTEGER NOT NULL, NUMBEROFSEATS VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE VAN (VEHICLEID INTEGER NOT NULL, MAXWEIGHT VARCHAR(255), PRIMARY KEY (VEHICLEID))
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_PERSON_PERSONID FOREIGN KEY (PERSON_PERSONID) REFERENCES PERSON (PERSONID)
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_VEHICLE_VEHICLEID FOREIGN KEY (VEHICLE_VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE CAR ADD CONSTRAINT FK_CAR_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE VAN ADD CONSTRAINT FK_VAN_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
SET AUTOCOMMIT FALSE
INSERT INTO VEHICLE VALUES(1,'Car','C1234')
INSERT INTO PERSON VALUES(2,'enzo')
INSERT INTO PERSON VALUES(1,'clement')
INSERT INTO VEHICLE VALUES(2,'Van','V1234')
INSERT INTO RENT VALUES(2,NULL,NULL,1,2)
INSERT INTO RENT VALUES(1,NULL,NULL,1,1)
INSERT INTO CAR VALUES(1,'30')
INSERT INTO VAN VALUES(2,'1000')
COMMIT
SET AUTOCOMMIT TRUE
DISCONNECT
/*C242*/DROP TABLE CAR
DROP TABLE VAN
DROP TABLE RENT
DROP TABLE PERSON
DROP TABLE VEHICLE
/*C245*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C246*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE TABLE PERSON (PERSONID INTEGER NOT NULL, NAME VARCHAR(255), PRIMARY KEY (PERSONID))
CREATE TABLE VEHICLE (VEHICLEID INTEGER NOT NULL, DTYPE VARCHAR(31), PLATENUMBER VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE RENT (RENTID INTEGER NOT NULL, BEGIN DATE, DEADLINE DATE, PERSON_PERSONID INTEGER, VEHICLE_VEHICLEID INTEGER, PRIMARY KEY (RENTID))
CREATE TABLE CAR (VEHICLEID INTEGER NOT NULL, NUMBEROFSEATS VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE VAN (VEHICLEID INTEGER NOT NULL, MAXWEIGHT VARCHAR(255), PRIMARY KEY (VEHICLEID))
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_PERSON_PERSONID FOREIGN KEY (PERSON_PERSONID) REFERENCES PERSON (PERSONID)
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_VEHICLE_VEHICLEID FOREIGN KEY (VEHICLE_VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE CAR ADD CONSTRAINT FK_CAR_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE VAN ADD CONSTRAINT FK_VAN_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
SET AUTOCOMMIT FALSE
INSERT INTO VEHICLE VALUES(1,'Car','C1234')
INSERT INTO PERSON VALUES(2,'enzo')
INSERT INTO PERSON VALUES(1,'clement')
INSERT INTO VEHICLE VALUES(2,'Van','V1234')
INSERT INTO RENT VALUES(2,NULL,NULL,1,2)
INSERT INTO RENT VALUES(1,NULL,NULL,1,1)
INSERT INTO CAR VALUES(1,'30')
INSERT INTO VAN VALUES(2,'1000')
COMMIT
SET AUTOCOMMIT TRUE
DISCONNECT
/*C242*/DROP TABLE CAR
DROP TABLE VAN
DROP TABLE RENT
DROP TABLE PERSON
DROP TABLE VEHICLE
/*C247*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C248*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE TABLE PERSON (PERSONID INTEGER NOT NULL, NAME VARCHAR(255), PRIMARY KEY (PERSONID))
CREATE TABLE VEHICLE (VEHICLEID INTEGER NOT NULL, DTYPE VARCHAR(31), PLATENUMBER VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE RENT (RENTID INTEGER NOT NULL, BEGIN DATE, DEADLINE DATE, PERSON_PERSONID INTEGER, VEHICLE_VEHICLEID INTEGER, PRIMARY KEY (RENTID))
CREATE TABLE CAR (VEHICLEID INTEGER NOT NULL, NUMBEROFSEATS VARCHAR(255), PRIMARY KEY (VEHICLEID))
CREATE TABLE VAN (VEHICLEID INTEGER NOT NULL, MAXWEIGHT VARCHAR(255), PRIMARY KEY (VEHICLEID))
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_PERSON_PERSONID FOREIGN KEY (PERSON_PERSONID) REFERENCES PERSON (PERSONID)
ALTER TABLE RENT ADD CONSTRAINT FK_RENT_VEHICLE_VEHICLEID FOREIGN KEY (VEHICLE_VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE CAR ADD CONSTRAINT FK_CAR_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
ALTER TABLE VAN ADD CONSTRAINT FK_VAN_VEHICLEID FOREIGN KEY (VEHICLEID) REFERENCES VEHICLE (VEHICLEID)
SET AUTOCOMMIT FALSE
INSERT INTO VEHICLE VALUES(1,'Car','C1234')
INSERT INTO PERSON VALUES(2,'enzo')
INSERT INTO PERSON VALUES(1,'clement')
INSERT INTO VEHICLE VALUES(2,'Van','V1234')
INSERT INTO RENT VALUES(2,NULL,NULL,1,2)
INSERT INTO RENT VALUES(1,NULL,NULL,1,1)
INSERT INTO CAR VALUES(1,'30')
INSERT INTO VAN VALUES(2,'1000')
COMMIT
SET AUTOCOMMIT TRUE
DISCONNECT
/*C249*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C250*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
DISCONNECT
